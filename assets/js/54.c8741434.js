(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{373:function(t,e,l){"use strict";l.r(e);var a=l(33),i=Object(a.a)({},(function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[l("h1",{attrs:{id:"uniapp数据缓存"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#uniapp数据缓存"}},[t._v("#")]),t._v(" Uniapp数据缓存")]),t._v(" "),l("h2",{attrs:{id:"uni-setstorage-object"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#uni-setstorage-object"}},[t._v("#")]),t._v(" uni.setStorage(OBJECT)")]),t._v(" "),l("p",[t._v("将数据存储在本地缓存中指定的 key 中，会覆盖掉原来该 key 对应的内容，这是一个"),l("strong",[t._v("异步接口")]),t._v("。")]),t._v(" "),l("p",[l("strong",[t._v("OBJECT 参数说明")])]),t._v(" "),l("table",[l("thead",[l("tr",[l("th",{staticStyle:{"text-align":"left"}},[t._v("参数名")]),t._v(" "),l("th",{staticStyle:{"text-align":"left"}},[t._v("类型")]),t._v(" "),l("th",{staticStyle:{"text-align":"left"}},[t._v("必填")]),t._v(" "),l("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),l("tbody",[l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("key")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("String")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("是")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("本地缓存中的指定的 key")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("data")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("Any")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("是")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("需要存储的内容，只支持原生类型、及能够通过 JSON.stringify 序列化的对象")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("success")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("Function")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("否")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("接口调用成功的回调函数")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("fail")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("Function")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("否")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("接口调用失败的回调函数")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("complete")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("Function")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("否")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("接口调用结束的回调函数（调用成功、失败都会执行）")])])])]),t._v(" "),l("h2",{attrs:{id:"uni-setstoragesync-key-data"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#uni-setstoragesync-key-data"}},[t._v("#")]),t._v(" uni.setStorageSync(KEY,DATA)")]),t._v(" "),l("p",[t._v("将 data 存储在本地缓存中指定的 key 中，会覆盖掉原来该 key 对应的内容，这是一个"),l("strong",[t._v("同步接口")]),t._v("。")]),t._v(" "),l("p",[l("strong",[t._v("参数说明")])]),t._v(" "),l("table",[l("thead",[l("tr",[l("th",{staticStyle:{"text-align":"left"}},[t._v("参数")]),t._v(" "),l("th",{staticStyle:{"text-align":"left"}},[t._v("类型")]),t._v(" "),l("th",{staticStyle:{"text-align":"left"}},[t._v("必填")]),t._v(" "),l("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),l("tbody",[l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("key")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("String")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("是")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("本地缓存中的指定的 key")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("data")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("Any")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("是")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("需要存储的内容，只支持原生类型、及能够通过 JSON.stringify 序列化的对象")])])])]),t._v(" "),l("h2",{attrs:{id:"uni-getstorage-object"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#uni-getstorage-object"}},[t._v("#")]),t._v(" uni.getStorage(OBJECT)")]),t._v(" "),l("p",[t._v("从本地缓存中"),l("strong",[t._v("异步")]),t._v("获取指定 key 对应的内容。")]),t._v(" "),l("p",[l("strong",[t._v("OBJECT 参数说明")])]),t._v(" "),l("table",[l("thead",[l("tr",[l("th",{staticStyle:{"text-align":"left"}},[t._v("参数名")]),t._v(" "),l("th",{staticStyle:{"text-align":"left"}},[t._v("类型")]),t._v(" "),l("th",{staticStyle:{"text-align":"left"}},[t._v("必填")]),t._v(" "),l("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),l("tbody",[l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("key")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("String")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("是")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("本地缓存中的指定的 key")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("success")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("Function")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("是")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("接口调用的回调函数，res = {data: key对应的内容}")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("fail")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("Function")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("否")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("接口调用失败的回调函数")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("complete")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("Function")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("否")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("接口调用结束的回调函数（调用成功、失败都会执行）")])])])]),t._v(" "),l("p",[l("strong",[t._v("success 返回参数说明")])]),t._v(" "),l("table",[l("thead",[l("tr",[l("th",{staticStyle:{"text-align":"left"}},[t._v("参数")]),t._v(" "),l("th",{staticStyle:{"text-align":"left"}},[t._v("类型")]),t._v(" "),l("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),l("tbody",[l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("data")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("Any")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("key 对应的内容")])])])]),t._v(" "),l("h2",{attrs:{id:"uni-getstoragesync-key"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#uni-getstoragesync-key"}},[t._v("#")]),t._v(" uni.getStorageSync(KEY)")]),t._v(" "),l("p",[t._v("从本地缓存中"),l("strong",[t._v("同步")]),t._v("获取指定 key 对应的内容。")]),t._v(" "),l("p",[l("strong",[t._v("参数说明")])]),t._v(" "),l("table",[l("thead",[l("tr",[l("th",{staticStyle:{"text-align":"left"}},[t._v("参数")]),t._v(" "),l("th",{staticStyle:{"text-align":"left"}},[t._v("类型")]),t._v(" "),l("th",{staticStyle:{"text-align":"left"}},[t._v("必填")]),t._v(" "),l("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),l("tbody",[l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("key")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("String")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("是")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("本地缓存中的指定的 key")])])])]),t._v(" "),l("h2",{attrs:{id:"uni-getstorageinfo-object"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#uni-getstorageinfo-object"}},[t._v("#")]),t._v(" uni.getStorageInfo(OBJECT)")]),t._v(" "),l("p",[l("strong",[t._v("异步")]),t._v("获取当前 storage 的相关信息。")]),t._v(" "),l("p",[l("strong",[t._v("OBJECT 参数说明")])]),t._v(" "),l("table",[l("thead",[l("tr",[l("th",{staticStyle:{"text-align":"left"}},[t._v("参数名")]),t._v(" "),l("th",{staticStyle:{"text-align":"left"}},[t._v("类型")]),t._v(" "),l("th",{staticStyle:{"text-align":"left"}},[t._v("必填")]),t._v(" "),l("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),l("tbody",[l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("success")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("Function")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("是")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("接口调用的回调函数，详见返回参数说明")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("fail")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("Function")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("否")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("接口调用失败的回调函数")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("complete")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("Function")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("否")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("接口调用结束的回调函数（调用成功、失败都会执行）")])])])]),t._v(" "),l("p",[l("strong",[t._v("success 返回参数说明")])]),t._v(" "),l("table",[l("thead",[l("tr",[l("th",{staticStyle:{"text-align":"left"}},[t._v("参数")]),t._v(" "),l("th",{staticStyle:{"text-align":"left"}},[t._v("类型")]),t._v(" "),l("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),l("tbody",[l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("keys")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("Array＜String＞")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("当前 storage 中所有的 key")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("currentSize")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("Number")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("当前占用的空间大小, 单位：kb")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("limitSize")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("Number")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("限制的空间大小, 单位：kb")])])])]),t._v(" "),l("h2",{attrs:{id:"uni-getstorageinfosync"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#uni-getstorageinfosync"}},[t._v("#")]),t._v(" uni.getStorageInfoSync()")]),t._v(" "),l("p",[t._v("同步获取当前 storage 的相关信息。")]),t._v(" "),l("h2",{attrs:{id:"uni-removestorage-object"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#uni-removestorage-object"}},[t._v("#")]),t._v(" uni.removeStorage(OBJECT)")]),t._v(" "),l("p",[t._v("从本地缓存中异步移除指定 key。")]),t._v(" "),l("p",[l("strong",[t._v("OBJECT 参数说明")])]),t._v(" "),l("table",[l("thead",[l("tr",[l("th",{staticStyle:{"text-align":"left"}},[t._v("参数名")]),t._v(" "),l("th",{staticStyle:{"text-align":"left"}},[t._v("类型")]),t._v(" "),l("th",{staticStyle:{"text-align":"left"}},[t._v("必填")]),t._v(" "),l("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),l("tbody",[l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("key")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("String")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("是")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("本地缓存中的指定的 key")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("success")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("Function")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("是")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("接口调用的回调函数")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("fail")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("Function")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("否")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("接口调用失败的回调函数")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("complete")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("Function")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("否")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("接口调用结束的回调函数（调用成功、失败都会执行）")])])])]),t._v(" "),l("h2",{attrs:{id:"uni-removestoragesync-key"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#uni-removestoragesync-key"}},[t._v("#")]),t._v(" uni.removeStorageSync(KEY)")]),t._v(" "),l("p",[t._v("从本地缓存中同步移除指定 key。")]),t._v(" "),l("p",[l("strong",[t._v("参数说明")])]),t._v(" "),l("table",[l("thead",[l("tr",[l("th",{staticStyle:{"text-align":"left"}},[t._v("参数名")]),t._v(" "),l("th",{staticStyle:{"text-align":"left"}},[t._v("类型")]),t._v(" "),l("th",{staticStyle:{"text-align":"left"}},[t._v("必填")]),t._v(" "),l("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),l("tbody",[l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("key")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("String")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("是")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("本地缓存中的指定的 key")])])])]),t._v(" "),l("h2",{attrs:{id:"uni-clearstorage"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#uni-clearstorage"}},[t._v("#")]),t._v(" uni.clearStorage()")]),t._v(" "),l("p",[t._v("清理本地数据缓存。")]),t._v(" "),l("h2",{attrs:{id:"uni-clearstoragesync"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#uni-clearstoragesync"}},[t._v("#")]),t._v(" uni.clearStorageSync()")]),t._v(" "),l("p",[t._v("同步清理本地数据缓存。")]),t._v(" "),l("h3",{attrs:{id:"注意"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#注意"}},[t._v("#")]),t._v(" 注意")]),t._v(" "),l("ul",[l("li",[t._v("微信小程序单个 key 允许存储的最大数据长度为 1MB，所有数据存储上限为 10MB。")])])])}),[],!1,null,null,null);e.default=i.exports}}]);