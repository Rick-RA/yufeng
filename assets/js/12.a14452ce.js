(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{332:function(t,a,s){"use strict";s.r(a);var n=s(33),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"javascript基础知识整理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#javascript基础知识整理"}},[t._v("#")]),t._v(" Javascript基础知识整理")]),t._v(" "),s("h2",{attrs:{id:"typeof运算符"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#typeof运算符"}},[t._v("#")]),t._v(" typeof运算符")]),t._v(" "),s("p",[t._v("识别所有值类型")]),t._v(" "),s("p",[t._v("识别函数")]),t._v(" "),s("p",[t._v("识别是否是引用类型（不可再细分）")]),t._v(" "),s("h2",{attrs:{id:"运算符"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#运算符"}},[t._v("#")]),t._v(" == 运算符")]),t._v(" "),s("p",[t._v("除了 == null之外，其他建议都用 ===")]),t._v(" "),s("p",[t._v("obj.a == null 等价于  obj.a === null  || obj.a === undefined")]),t._v(" "),s("h2",{attrs:{id:"手写深拷贝"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#手写深拷贝"}},[t._v("#")]),t._v(" 手写深拷贝")]),t._v(" "),s("p",[t._v("注意判断值类型和引用类型")]),t._v(" "),s("p",[t._v("注意判断数组还是对象")]),t._v(" "),s("p",[t._v("判断是实例属性还是原型上的属性")]),t._v(" "),s("p",[t._v("递归")]),t._v(" "),s("h2",{attrs:{id:"闭包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#闭包"}},[t._v("#")]),t._v(" 闭包")]),t._v(" "),s("p",[t._v("在一个函数中引用了另外一个函数作用域中变量的函数。通常用于函数嵌套中。")]),t._v(" "),s("h2",{attrs:{id:"类型判断-instanceof"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#类型判断-instanceof"}},[t._v("#")]),t._v(" 类型判断 - instanceof")]),t._v(" "),s("p",[t._v("用来判断一个对象是不是某个类的子类")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" instanseOf Array "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" instanseOf Object "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\n")])])]),s("h2",{attrs:{id:"原型"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#原型"}},[t._v("#")]),t._v(" 原型")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("People")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sayHi")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hi"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Student")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("People")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" age")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("super")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("age "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" age\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" xiaoluo "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Student")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"xialuo"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("ul",[s("li",[t._v("隐式原型     xialuo._"),s("em",[t._v("proto")]),t._v("_")]),t._v(" "),s("li",[t._v("显示原型    Student.prototype")])]),t._v(" "),s("p",[t._v("每个class都有显示原型 prototype")]),t._v(" "),s("p",[t._v("每个实例都有隐式原型 _"),s("em",[t._v("proto")]),t._v("_")]),t._v(" "),s("p",[t._v("实例的_"),s("em",[t._v("proto")]),t._v("_ 指向对应的class的prototype")]),t._v(" "),s("h2",{attrs:{id:"基于原型的执行规则"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#基于原型的执行规则"}},[t._v("#")]),t._v(" 基于原型的执行规则")]),t._v(" "),s("p",[t._v("获取xialuo.name或执行方法xialuo.sayHi()时，先在实例的自身属性和方法寻找")]),t._v(" "),s("p",[t._v("如果找不到，则去__proto__中查找")]),t._v(" "),s("p",[t._v("hasOwnProperty（）判断一个属性是不是自己的实例属性，如果是返回true，否则返回false")]),t._v(" "),s("h2",{attrs:{id:"重要提示"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#重要提示"}},[t._v("#")]),t._v(" 重要提示")]),t._v(" "),s("p",[t._v("class是ES6语法规范，有ECMA委员会发布")]),t._v(" "),s("p",[t._v("ECMA只规定语法规则，即我们代码的书写规范，不规定如何实现。")]),t._v(" "),s("p",[t._v("以上实现方式都是V8引擎的实现方式，也是主流的")]),t._v(" "),s("h2",{attrs:{id:"js-web-api"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#js-web-api"}},[t._v("#")]),t._v(" JS Web API")]),t._v(" "),s("p",[t._v("JS基础知识，规定语法 （ECMA 262标准）")]),t._v(" "),s("p",[t._v("JS Web API ，网页操作的API （W3C标准）")]),t._v(" "),s("p",[t._v("前者是后者的基石，两者结合才能真正实际应用")]),t._v(" "),s("p",[t._v("前言：")]),t._v(" "),s("blockquote",[s("p",[t._v("Vue和React框架应用广泛，封装了DOM操作")]),t._v(" "),s("p",[t._v("但DOM操作一直都会是前端工程师的基础，必备知识")]),t._v(" "),s("p",[t._v("只会vue而不懂DOM操作的前端程序员，不会长久")])]),t._v(" "),s("p",[t._v("DOM的本质是从HTML解析出来的一个树状结构。")]),t._v(" "),s("p",[t._v("获取DOM节点：")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" div1 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'div1'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" divList "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementsByTagName")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'div'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" containerList "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementsByClassName")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'container'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" pList "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelectorAll")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'p'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("property 和 attibute")]),t._v(" "),s("p",[t._v("property: 修改对象属性，不会体现到html结构中")]),t._v(" "),s("p",[t._v("attribute： 修改html属性，会改变html结构")]),t._v(" "),s("p",[t._v("两者都有可能引起DOM重新渲染")]),t._v(" "),s("h2",{attrs:{id:"dom结构操作"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#dom结构操作"}},[t._v("#")]),t._v(" DOM结构操作")]),t._v(" "),s("p",[t._v("新增插入节点：")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" div1 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'div1'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 添加新节点")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" p1 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createEelement")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'p'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\np1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerHtml "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"this is p1"')]),t._v("\ndiv1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendChild")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("p1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 移动已有节点，注意是移动！！！")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" p2 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'p2'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ndiv1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendChild")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("p2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("获取父元素和子元素")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" parent "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" p1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("parentNode\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" childNodes "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" div1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("childNodes\n")])])]),s("p",[t._v("删除节点：")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" div1 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'div1'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" child "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" div1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("childNodes\ndiv1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("removeChild")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("child"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])]),s("h2",{attrs:{id:"如何优化dom性能"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#如何优化dom性能"}},[t._v("#")]),t._v(" 如何优化DOM性能")]),t._v(" "),s("p",[t._v("DOM性能：")]),t._v(" "),s("blockquote",[s("p",[t._v("DOM操作非常昂贵，避免频繁的DOM操作")]),t._v(" "),s("p",[t._v("对DOM查询做缓存")]),t._v(" "),s("p",[t._v("将频繁操作改为一次性操作")])]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 将频繁操作改为一次性操作")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" listNode "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'list'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 创建一个文档片段，此时还没有插入到DOM")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" frag "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createDocumentFragment")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" x "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" x "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" x"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" li "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElement")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'li'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  li"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerHTML "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'List item'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" x\n  frag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendChild")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("li"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 都完成后，再插入到DOM树中")]),t._v("\nlistNode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendChild")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("frag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h2",{attrs:{id:"bom操作"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#bom操作"}},[t._v("#")]),t._v(" BOM操作")]),t._v(" "),s("p",[t._v("navigator")]),t._v(" "),s("p",[t._v("screen")]),t._v(" "),s("p",[t._v("location")]),t._v(" "),s("p",[t._v("history")]),t._v(" "),s("h2",{attrs:{id:"事件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#事件"}},[t._v("#")]),t._v(" 事件")]),t._v(" "),s("p",[t._v("事件绑定：")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" btn "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'btn1'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nbtn"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'click'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'clicked'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("event.stopPropagation()   阻止冒泡")]),t._v(" "),s("p",[t._v("event.preventDefault() 阻止默认行为")]),t._v(" "),s("p",[s("strong",[t._v("事件代理")]),t._v(" ：通过冒泡，把一些具体的元素的点击等事件，代理到其父元素来处理。")]),t._v(" "),s("p",[t._v("事件代理的有点： 代码简洁、减少浏览器内存占用")]),t._v(" "),s("h2",{attrs:{id:"ajax"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ajax"}},[t._v("#")]),t._v(" Ajax")]),t._v(" "),s("p",[t._v("XMLHttpRequest")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" xhr "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("XMLHttpRequest")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nxhr"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("open")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"GET"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/api"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true 表示异步")]),t._v("\nxhr"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onreadystatechange")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("xhr"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("readyState "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("xhr"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("status "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("xhr"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("response"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nxhr"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("send")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 如果是post请求，可以在xhr.send(JSON.parse(postData))中传入请求数据")]),t._v("\n")])])]),s("p",[t._v("xhr.readyState")]),t._v(" "),s("ul",[s("li",[t._v("0 - 未初始化，还没有调用send()方法")]),t._v(" "),s("li",[t._v("1 载入，已调用send()方法，正在发送请求")]),t._v(" "),s("li",[t._v("2 载入完成，send()方法执行完成，已经接收到全部响应内容")]),t._v(" "),s("li",[t._v("3 交互 正在解析响应内容")]),t._v(" "),s("li",[t._v("4 完成  响应内容解析完成，可以在客户端调用")])]),t._v(" "),s("p",[t._v("xhr.status")]),t._v(" "),s("ul",[s("li",[t._v("2xx 表示成功处理请求")]),t._v(" "),s("li",[t._v("3xx 需要重定向")]),t._v(" "),s("li",[t._v("4xx 客户端错误")]),t._v(" "),s("li",[t._v("5xx 服务端错误")])]),t._v(" "),s("h2",{attrs:{id:"同源策略"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#同源策略"}},[t._v("#")]),t._v(" 同源策略")]),t._v(" "),s("ul",[s("li",[t._v("ajax请求时，浏览器要求当前网页和sever必须同源（安全）")]),t._v(" "),s("li",[t._v("同源： 协议、域名、端口，三者必须一致")])]),t._v(" "),s("h2",{attrs:{id:"css-和-js有时候可以无视同源策略"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#css-和-js有时候可以无视同源策略"}},[t._v("#")]),t._v(" css 和 js有时候可以无视同源策略")]),t._v(" "),s("ul",[s("li",[t._v("<img src=跨域的图片地址/>")]),t._v(" "),s("li",[t._v("<link src=跨域的图片地址/>")]),t._v(" "),s("li",[t._v("<script src=跨域的图片地址><\/script>")])]),t._v(" "),s("h2",{attrs:{id:"跨域"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#跨域"}},[t._v("#")]),t._v(" 跨域")]),t._v(" "),s("p",[t._v("所有的跨域，都必须经过server端允许和配合")]),t._v(" "),s("p",[t._v("未经server端允许就实现跨域，说明浏览器有漏洞")]),t._v(" "),s("h2",{attrs:{id:"jsonp"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#jsonp"}},[t._v("#")]),t._v(" JSONP")]),t._v(" "),s("p",[t._v("<script>可绕过跨域限制")]),t._v(" "),s("p",[t._v("服务端可以返回任意动态拼接的数据")]),t._v(" "),s("p",[t._v("所以，<script>就可以获得跨域的数据，只要服务端愿意返回.")]),t._v(" "),s("blockquote",[s("p",[t._v("前端通过script标签，并传递（或者提前和服务端约定）一个callback函数过去，服务端通过执行这个callback，并把数据传给这个callback，客户端可以通过监听这个callback函数中的数据来实现接收数据。")])]),t._v(" "),s("h2",{attrs:{id:"cors"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cors"}},[t._v("#")]),t._v(" CORS")]),t._v(" "),s("p",[t._v("服务器端可以设置http header(响应头)来允许跨域访问")]),t._v(" "),s("h2",{attrs:{id:"fetch"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fetch"}},[t._v("#")]),t._v(" Fetch")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API",target:"_blank",rel:"noopener noreferrer"}},[t._v("Fetch API"),s("OutboundLink")],1),t._v(" 提供了一个 JavaScript 接口，用于访问和操纵 HTTP 管道的一些具体部分，例如请求和响应。它还提供了一个全局 "),s("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/GlobalFetch/fetch",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("fetch()")]),s("OutboundLink")],1),t._v(" 方法，该方法提供了一种简单，合理的方式来跨网络异步获取资源。")]),t._v(" "),s("p",[t._v("这种功能以前是使用 "),s("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("XMLHttpRequest")]),s("OutboundLink")],1),t._v(" 实现的。Fetch 提供了一个更理想的替代方案，可以很容易地被其他技术使用。")]),t._v(" "),s("h2",{attrs:{id:"axios"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#axios"}},[t._v("#")]),t._v(" axios")]),t._v(" "),s("p",[t._v("浏览器端封装了XHR对象。node端封装了Http对象")]),t._v(" "),s("h2",{attrs:{id:"localstorage-和-sessionstorage"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#localstorage-和-sessionstorage"}},[t._v("#")]),t._v(" localStorage 和 sessionStorage")]),t._v(" "),s("ul",[s("li",[t._v("HTML5专门为存储而设计，最大可以存5M")]),t._v(" "),s("li",[t._v("API简单易用  setItem  getItem")]),t._v(" "),s("li",[t._v("不会随着http请求被发送出去")]),t._v(" "),s("li",[t._v("localStorage数据会永久存储，除非代码或手动删除")]),t._v(" "),s("li",[t._v("sessionStorage数据只存在于当前会话,窗口关闭则清空")])]),t._v(" "),s("h2",{attrs:{id:"性能优化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#性能优化"}},[t._v("#")]),t._v(" 性能优化")]),t._v(" "),s("p",[t._v("性能优化的原则：")]),t._v(" "),s("ul",[s("li",[t._v("多使用内存、缓存或其他方法")]),t._v(" "),s("li",[t._v("减少CPU计算量，减少网络加载耗时")]),t._v(" "),s("li",[t._v("空间换时间")])]),t._v(" "),s("p",[t._v("加载更快：")]),t._v(" "),s("ol",[s("li",[t._v("减少资源体积： 压缩代码")]),t._v(" "),s("li",[t._v("减少访问次数： 合并代码，SSR服务端渲染， 缓存")]),t._v(" "),s("li",[t._v("使用更快的网络： CDN")])]),t._v(" "),s("p",[t._v("渲染更快：")]),t._v(" "),s("ol",[s("li",[t._v("CSS放在head， JS放在body最下面")]),t._v(" "),s("li",[t._v("尽早开始执行JS，用DOMContentLoaded触发")]),t._v(" "),s("li",[t._v("懒加载（图片懒加载，上滑加载更多）")]),t._v(" "),s("li",[t._v("对DOM查询进行缓存")]),t._v(" "),s("li",[t._v("频繁DOM操作，合并到一起插入DOM结构")]),t._v(" "),s("li",[t._v("节流throttle  防抖 debounce")])]),t._v(" "),s("h2",{attrs:{id:"缓存"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#缓存"}},[t._v("#")]),t._v(" 缓存")]),t._v(" "),s("p",[t._v("静态资源加hash后缀，根据文件内容计算hash")]),t._v(" "),s("p",[t._v("文件内容不变，则hash不变，则url不变")]),t._v(" "),s("p",[t._v("url和文件不变，则自动触发http缓存机制，返回304")]),t._v(" "),s("h2",{attrs:{id:"ssr"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ssr"}},[t._v("#")]),t._v(" SSR")]),t._v(" "),s("ul",[s("li",[t._v("服务端渲染： 将网页和数据一起加载，一起渲染")]),t._v(" "),s("li",[t._v("非SSR（前后端分离），先渲染网页，再加载数据，再渲染数据")]),t._v(" "),s("li",[t._v("早先的JSP ASP  PHP都是SSR， 现在的vue React  也可以使用SSR")])]),t._v(" "),s("h2",{attrs:{id:"防抖"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#防抖"}},[t._v("#")]),t._v(" 防抖")]),t._v(" "),s("p",[t._v("监听一个输入框，文字变化后会触发change事件")]),t._v(" "),s("p",[t._v("直接用keyup事件，则会频繁触发change事件")]),t._v(" "),s("p",[t._v("防抖：用户输入结束或暂停时，"),s("strong",[t._v("才会")]),t._v("触发change事件")]),t._v(" "),s("h2",{attrs:{id:"节流"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#节流"}},[t._v("#")]),t._v(" 节流")]),t._v(" "),s("p",[t._v("拖拽一个元素时，要随时拿到该元素被拖拽的位置")]),t._v(" "),s("p",[t._v("直接用drag事件，则会频繁触发，很容易造成卡顿")]),t._v(" "),s("p",[t._v("节流：无论拖拽速度多快，都会"),s("strong",[t._v("每隔")]),t._v("一定时间（比如：100ms）触发一次")]),t._v(" "),s("h2",{attrs:{id:"xss攻击-跨站脚本"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#xss攻击-跨站脚本"}},[t._v("#")]),t._v(" XSS攻击 -跨站脚本")]),t._v(" "),s("p",[t._v("script脚本注入")]),t._v(" "),s("p",[t._v("预防： 替换特殊字符。<script>变为&lt;script;&gt;")]),t._v(" "),s("h2",{attrs:{id:"csrf-跨站请求伪造"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#csrf-跨站请求伪造"}},[t._v("#")]),t._v(" CSRF- 跨站请求伪造")]),t._v(" "),s("p",[t._v("CSRF攻击是攻击者利用用户的身份操作用户帐户的一种攻击方式，一般是由服务端解决。")]),t._v(" "),s("h1",{attrs:{id:"异步"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#异步"}},[t._v("#")]),t._v(" 异步")]),t._v(" "),s("h2",{attrs:{id:"单线程和异步"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#单线程和异步"}},[t._v("#")]),t._v(" 单线程和异步")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("JS是单线程，同一时间只能做一件事")])]),t._v(" "),s("li",[s("p",[t._v("浏览器和nodejs已支持JS启动进程，如Web Worker")])]),t._v(" "),s("li",[s("p",[t._v("JS和DOM渲染共用同一个线程，因为JS可修改DOM结构")])]),t._v(" "),s("li",[s("p",[t._v("遇到等待（网络请求，定时任务）不能卡住，所以需要异步")])]),t._v(" "),s("li",[s("p",[t._v("异步通过回调callback函数形式来实现")])]),t._v(" "),s("li",[s("p",[t._v("异步不会阻塞代码执行")])]),t._v(" "),s("li",[s("p",[t._v("promise解决的是回调地狱的问题")])])]),t._v(" "),s("h2",{attrs:{id:"javascript的异步实现原理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#javascript的异步实现原理"}},[t._v("#")]),t._v(" Javascript的异步实现原理")]),t._v(" "),s("blockquote",[s("p",[t._v("总的来说，Js的语言特性决定了它是单线程的，但是js的宿主环境通常是多线程的。浏览器内核或者Node.js （也是在浏览器内核V8基础上实现的）。")]),t._v(" "),s("p",[t._v("js处理异步的本质是： 主线程  + 异步队列")]),t._v(" "),s("p",[t._v("js解析器在自上而下一行一行地解析异步代码时是在主线程中进行的。")]),t._v(" "),s("p",[t._v("如果遇到异步方法，就把相应的异步处理放到一个队列中。")]),t._v(" "),s("p",[t._v("当主线程执行完同步代码时，就会去处理异步队列中的代码（根据队列特性，先进先出，优先处理最先放进去的异步任务）。")]),t._v(" "),s("p",[t._v("当异步方法执行完毕返回结果时，把相应的返回结果继续放到对应在主线程中的任务栈，继续执行。")]),t._v(" "),s("p",[t._v("任务队列中的任务就是我们常说的回调函数。")])]),t._v(" "),s("h2",{attrs:{id:"event-loop（事件循环）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#event-loop（事件循环）"}},[t._v("#")]),t._v(" event loop（事件循环）")]),t._v(" "),s("p",[t._v("JS是单线程运行的。\n异步（setTimeout, ajax）要基于回调来实现\nevent loop就是异步回调的实现原理")]),t._v(" "),s("p",[t._v("DOM事件也是用回调，基于event loop")]),t._v(" "),s("h2",{attrs:{id:"js如何执行"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#js如何执行"}},[t._v("#")]),t._v(" JS如何执行")]),t._v(" "),s("p",[t._v("从前往后一行一行执行\n如果某一行出错，则停止下面的执行\n先把同步代码执行完，再执行异步代码")]),t._v(" "),s("h2",{attrs:{id:"event-loop过程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#event-loop过程"}},[t._v("#")]),t._v(" event loop过程")]),t._v(" "),s("p",[t._v("同步代码，一行一行放在Call stack执行\n遇到异步，会先“记录”下，等待时机（定时器、网络请求等）\n时机到了，就移动到Callback Queue\n如果call stack为空（即同步代码执行完毕），Event loop开始工作\n轮询查找callback queue， 如有则移动到call stack执行\n然后继续轮询查找")]),t._v(" "),s("h2",{attrs:{id:"promise"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#promise"}},[t._v("#")]),t._v(" Promise")]),t._v(" "),s("p",[t._v("三种状态 pending resolved rejected")]),t._v(" "),s("p",[t._v("pending  ->  resolved")]),t._v(" "),s("p",[t._v("pending  ->  rejected")]),t._v(" "),s("p",[t._v("then 和 catch改变状态：")]),t._v(" "),s("blockquote",[s("p",[t._v("then 正常返回resolved，里面有报错返回rejected")]),t._v(" "),s("p",[t._v("catch正常返回resolved，里面有报错返回rejected")])]),t._v(" "),s("p",[t._v("then和catch的链式调用")]),t._v(" "),s("blockquote",[s("p",[t._v("then，如果代码块里面包含的代码没有报错，会返回一个resolved状态的promise，所以会接着调用下一个then。如果报错，会返回一个rejected状态的promise，所以会接着调用下一个catch")]),t._v(" "),s("p",[t._v("catch，如果代码块里面包含的代码没有报错，会返回一个resolved状态的promise，所以会接着调用下一个then。如果报错，会返回一个rejected状态的promise，所以会接着调用下一个catch")])]),t._v(" "),s("h2",{attrs:{id:"async-await"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#async-await"}},[t._v("#")]),t._v(" async/await")]),t._v(" "),s("p",[t._v("异步回调 callback hell，async/await是消灭异步回调的终极武器")]),t._v(" "),s("p",[t._v("Promise then catch链式调用，但也是基于回调函数")]),t._v(" "),s("p",[t._v("async/await是同步语法，彻底消灭回调函数")]),t._v(" "),s("h3",{attrs:{id:"async-await和promise的关系"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#async-await和promise的关系"}},[t._v("#")]),t._v(" async/await和promise的关系")]),t._v(" "),s("p",[t._v("async/await和Promise并不互斥，两者是相辅相成的关系")]),t._v(" "),s("p",[t._v("执行async函数，返回的是promise对象")]),t._v(" "),s("p",[t._v("await相当于promise的then")]),t._v(" "),s("p",[t._v("try...catch可捕获异常，相当于promise的catch代替了Promise的catch")]),t._v(" "),s("h2",{attrs:{id:"异步的本质"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#异步的本质"}},[t._v("#")]),t._v(" 异步的本质")]),t._v(" "),s("p",[t._v("async/await是消灭异步回调的终极武器")]),t._v(" "),s("p",[t._v("JS还是单线程，还得是异步，还是基于eventloop")]),t._v(" "),s("p",[t._v("async/await只是一个语法糖")]),t._v(" "),s("p",[t._v("await后面的代码会当成回调函数来执行")]),t._v(" "),s("h2",{attrs:{id:"for-of"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#for-of"}},[t._v("#")]),t._v(" for ... of")]),t._v(" "),s("p",[t._v("for...in forEach是常规的同步遍历")]),t._v(" "),s("p",[t._v("for...of常用于异步遍历")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("\t"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" i "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("of")]),t._v(" nums"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" res "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("muti")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h2",{attrs:{id:"宏任务macrotask和微任务-microtask"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#宏任务macrotask和微任务-microtask"}},[t._v("#")]),t._v(" 宏任务macroTask和微任务 microTask")]),t._v(" "),s("p",[t._v("宏任务：setTimeout, setInterval, Ajax, DOM事件\n微任务： Promise, async/await")]),t._v(" "),s("p",[t._v("微任务执行时机比宏任务要早")]),t._v(" "),s("h2",{attrs:{id:"event-loop和dom渲染"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#event-loop和dom渲染"}},[t._v("#")]),t._v(" event loop和DOM渲染")]),t._v(" "),s("p",[t._v("JS是单线程的，而且和DOM渲染共用一个线程")]),t._v(" "),s("p",[t._v("JS执行的时候，得留一些时机供DOM渲染")]),t._v(" "),s("p",[t._v("每次call stack清空，即同步任务执行完。都会尝试DOM重新渲染，DOM结构如果有变化则就会渲染。然后再去触发下一次Event loop。")]),t._v(" "),s("p",[t._v("alert会阻断js的执行，也会阻断DOM渲染")]),t._v(" "),s("h2",{attrs:{id:"微任务和宏任务的区别："}},[s("a",{staticClass:"header-anchor",attrs:{href:"#微任务和宏任务的区别："}},[t._v("#")]),t._v(" 微任务和宏任务的区别：")]),t._v(" "),s("p",[t._v("宏任务： DOM渲染后触发  如setTimeout")]),t._v(" "),s("p",[t._v("微任务： DOM渲染前触发  如Promise")]),t._v(" "),s("p",[t._v("微任务是ES6语法规定的")]),t._v(" "),s("p",[t._v("宏任务是浏览器规定的")]),t._v(" "),s("p",[s("img",{attrs:{src:"/yufeng/css/js-%E5%BC%82%E6%AD%A5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/800",alt:"js-异步"}})])])}),[],!1,null,null,null);a.default=e.exports}}]);